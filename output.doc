Praktikum 4
Integrasi FFMPEG dengan
PHP
A. Tujuan
1. Mahasiswa mampu melakukan instalasi PHP untuk FFMPEG
2. Mahasiswa mampu mengoperasikan aplikasi FFMPEG melalui PHP
3. Mahasiswa mampu memahami prinsip kerja PHP dan FFMPEG
B. Dasar Teori
FFMPEG Merupakan suatu aplikasi yang biasanya digunakan untuk melakukan
manipulasi file audio/video secara console, FFMPEG dapat berjalan di berbagai
platform seperti Linux, Windows, dan juga Mac OS. FFMPEG disini juga mampu
melakukan manipulasi file audio/audio secara live dan realtime.
FFMPEG juga mampu melakukan konversi file audio maupun video dalam berbagai
format
Selain itu FFMPEG juga dapat digunakan untuk melakukan broadcast pada suatu
streaming server seperti Icecast, Southcast, RED5 dan beberapa aplikasi streaming
server lainnya. Kelebihan dari aplikasi FFMPEG ini adalah dapat dengan mudah di
integrasikan dengan aplikasi lain, hal ini dikarenakan aplikasi ini merupakan
aplikasi open source dan ffmpeg juga dapat berjalan pada background process.
Sedangkan PHP merupakan bahasa pemrograman web pada server side (server
side scripting) yang saat ini banyak digunakan oleh sebagian besar developer web.
PHP juga mampu berjalan pada banyak platform seperti linux, windows ataupun
mac OS. PHP juga mempunyai banyak library dan fungsi yang dapat melakukan
pengaksesan ke sebuah system komputer.

alioke/mmb 2016

C. Tugas Pendahuluan
1. Apakah yang dimaksud dengan server side scripting?
2. Tuliskan open tag dari 3 bahasa pemrograman yang anda sebutkan pada soal
nomor 2
3. Sebutkan kegunaan dari function system() dan exec() pada PHP
4. Apakah itu sudoers?
D. Percobaan
Prerequisite Praktikum:
•

Pastikan computer anda terhubung ke jaringan PENS
o ping kebo.pens.ac.id

•

Jika belum berhasil, anda tidak akan bisa melanjutkan ke percobaan
selanjutnya, silahkan lakukan troubleshooting jaringan

•

Pada praktikum sebelumnya, anda sudah melakukan instalasi FFMPEG
dan pastikan FFMPEG tersebut masih berfungsi.

1. Percobaan 1 : Instalasi apache dan PHP
Jalankan perintah berikut ini :
#apt-get update
#apt-get install apache2 php

Dari langkah yang telah anda lakukan diatas, amati dan catat hasil dari
percobaan tersebut. Catat hasil untuk laporan resmi
2. Percobaan 2 : Mengetahui user yang menjalankan web
Buatlah file dengan nama whoami.php
#cd /var/www
#vim whoami.php
<?php
system(‘whoami’);
?>
Dari percobaan tersebut, amati hasil yang terjadi, jelaskan maksud dari
output yang keluar pada web

alioke/mmb 2016

3. Percobaan 3 : function system, menampilkan informasi IP address
- Edit file sudoers
# vim /etc/sudoers
-Tambahkan script berikut dibawah baris root
www-data ALL=NOPASSWD: ALL

- Pindah ke directory documentRoot webserver anda

# cd /var/www
#vim ipaddress.php
-Isilah file ipaddress.php dengan script berikut

<?php
system(“/sbin/ifconfig”);
?>

Dari langkah yang telah anda lakukan, amati dan catat hasil dari percobaan
tersebut pada browser (http://localhost/ipaddress.php). Catat hasil untuk
laporan resmi
4. Percobaan 4 : ffmpeg info melalui web
- buatlah file dengan nama ffmpeg.php
#vim ffmpeg.php
-Isilah file ffmpeg.php dengan script berikut

alioke/mmb 2016

<?php
system("sudo /usr/bin/ffmpeg -h 2>&1"); //*catatan
?>

*catatan : file ffmpeg pada computer anda bisa berbeda letaknya, silahkan
amati dulu letak file ffmpeg yang executable di computer anda dengan
perintah “dpkg –L”
Dari langkah yang telah anda lakukan, amati dan catat hasil dari percobaan
tersebut pada browser(http://localhost/ffmpeg.php). Catat hasil untuk
laporan resmi
CATATAN: lakukan perintah #sudo chmod -R 777 /var/www
5. Percobaan 5 : Proses FFMPEG melalui website
- Siapkan file mp3 pada folder documentRoot anda (usahakan satu folder)
- Kemudian buatlah script ffmpeg_proses.php
# vim ffmpeg_proses.php

-isilah file ffmpeg_proses.php dengan script berikut

<?php
system("sudo /usr/bin/ffmpeg -i input.mp3 -c:a
libvorbis -q:a 4 outputweb.ogg 2>&1");
?>

Dari langkah yang telah anda lakukan, amati dan catat hasil dari percobaan
tersebut, perhatikan perubahan isi file pada directory web anda, apakah ada
file baru. Catat hasil untuk laporan resmi

alioke/mmb 2016

6. Percobaan 6 : Upload file mp3 pada website
-Buat form untuk upload dengan nama form_upload.php
<html>
<body>
<form action="upload.php" method="post"
enctype="multipart/form-data">
Select image to upload:
<input type="file" name="fileToUpload"
id="fileToUpload">
<input type="submit" value="Upload Image"
name="submit">
</form>
</body>
</html>

-Buatlah folder uploads pada documentRoot webserver anda, dan pastikan
folder tersebut writeable
-Buat file kedua untuk upload dengan nama upload.php

alioke/mmb 2016

<?php
$target_dir = "uploads/";
$target_file = $target_dir . basename($_FILES["fileToUpload"]["name"]);
$tmp = $_FILES["fileToUpload"]["tmp_name"];
$uploadOk = 1;
$imageFileType = pathinfo($target_file,PATHINFO_EXTENSION);
// Check if image file is a actual image or fake image
if(isset($_POST["submit"])) {
move_uploaded_file($tmp,$target_file);
system("/usr/bin/ffmpeg -i
/var/www/html/encoder/coba/uploads/".$_FILES["fileToUpload"]["name"]." -c:a
libmp3lame
/var/www/html/encoder/coba/uploads/lalalallalalallala".date("YmdHis").".mp3
");
}
?>

-Setelah script tersebut selesai, cobalah lakukan upload suatu file, kemudian
amati yang terjadi pada folder uploads yang tadi anda buat

alioke/mmb 2016

E. Format Laporan Resmi
LAPORAN RESMI
Judul Praktikum : Integrasi FFMPEG dengan PHP
Dasar Teori :

Tugas Pendahuluan :

Hasil percobaan dan Analisa Hasil Percobaan :

Daftar Pertanyaan :
1. Berikan Kesimpulan Praktikum yang anda lakukan
2. Kumpulkan Hasil Percobaan diatas, tambahkan dalam laporan resmi anda
tugas berikut ini :
• Buatlah Form untuk melakukan upioad sebuah file .mp3, dan setelah file
tersebut sukses di upload, file mp3 akan otomatis dikonversi menjadi
file .ogg

alioke/mmb 2016

